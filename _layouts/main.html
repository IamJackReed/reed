---
layout: compress
---

<!DOCTYPE html>
<html lang="{{ site.language }}" class="no-js">
  {% include head.html %}

  <body class="main-page has-push-menu">
    <script>
      // Pre-check acceptance before rendering overlay to prevent flicker
      (function () {
        var accepted = false;
        try { accepted = localStorage.getItem("reedDisclaimerAccepted") === "true"; } catch (e) {}
        if (!accepted) {
          try {
            accepted = document.cookie.split(";").map(function (c) { return c.trim().toLowerCase(); }).some(function (c) { return c === "reeddisclaimeraccepted=true"; });
          } catch (e) {}
        }
        if (accepted) {
          document.documentElement.classList.add("disclaimer-clear");
          var style = document.createElement("style");
          style.innerHTML = "#disclaimer-overlay{display:none!important;}";
          document.head.appendChild(style);
        }
      })();
    </script>

    <script>
      // Early accept handling: if ?accept=1 is present, persist and clear overlay
      (function () {
        try {
          var params = new URLSearchParams(window.location.search);
          if (params.get("accept") === "1") {
            try { localStorage.setItem("reedDisclaimerAccepted", "true"); } catch (e) {}
            try { document.cookie = "reedDisclaimerAccepted=true; path={{ site.baseurl | default: '/' }}; max-age=31536000"; } catch (e) {}
            document.documentElement.classList.add("disclaimer-clear");

            var ret = params.get("return");
            params.delete("accept");
            params.delete("return");
            var cleaned = window.location.pathname + (params.toString() ? "?" + params.toString() : "") + window.location.hash;
            try { window.history.replaceState({}, "", cleaned); } catch (e) {}
            if (ret) {
              window.location.replace(ret);
            }
          }
        } catch (e) {}
      })();
    </script>

    <!-- Persistent fallback overlay: shown by default until acceptance is stored -->
    <div id="disclaimer-overlay">
      <div class="disclaimer-overlay-card">
        <h2>Before we continue</h2>
        <p>This site shares opinions and experiments. Nothing here is advice.</p>
        <div class="disclaimer-overlay-actions">
          <button id="disclaimer-accept-overlay" class="disclaimer-accept-overlay" type="button">
            I Understand &amp; Agree
          </button>
          <a id="disclaimer-read-overlay" href="{{ site.baseurl }}/disclaimer/">Read full disclaimer</a>
        </div>
        <p style="margin-top:0.75rem;font-size:0.85rem;color:#aaa;">Youâ€™ll return to your page after accepting.</p>
      </div>
    </div>
    <script>
      (function () {
        var root = document.documentElement;
        var overlay = document.getElementById("disclaimer-overlay");
        var readLink = document.getElementById("disclaimer-read-overlay");
        var acceptBtn = document.getElementById("disclaimer-accept-overlay");
        if (!overlay) return;

        var base = "{{ site.baseurl }}";
        var returnTo = window.location.pathname + window.location.search + window.location.hash;

        function hasAcceptedInline() {
          var ok = false;
          try { ok = localStorage.getItem("reedDisclaimerAccepted") === "true"; } catch (e) {}
          if (!ok) {
            try {
              ok = document.cookie.split(";").map(function (c) { return c.trim().toLowerCase(); }).some(function (c) { return c === "reeddisclaimeraccepted=true"; });
            } catch (e) {}
          }
          return ok;
        }

        function acceptAndProceed(targetUrl) {
          try { localStorage.setItem("reedDisclaimerAccepted", "true"); } catch (e) {}
          try { document.cookie = "reedDisclaimerAccepted=true; path=/; max-age=31536000"; } catch (e) {}
          try { window.name = "reedDisclaimerAccepted"; } catch (e) {}
          root.classList.add("disclaimer-clear");
          overlay.style.display = "none";
          if (targetUrl) {
            try { window.history.replaceState({}, "", targetUrl); } catch (e) { window.location.href = targetUrl; }
          }
        }

        // If already accepted (head script sets class), hide overlay
        if (root.classList.contains("disclaimer-clear") || document.body.classList.contains("disclaimer-page") || hasAcceptedInline()) {
          overlay.style.display = "none";
        }

        if (readLink) {
          readLink.href = "{{ site.baseurl }}/disclaimer/?return=" + encodeURIComponent(returnTo);
        }

        if (acceptBtn) {
          acceptBtn.addEventListener("click", function (e) {
            e.preventDefault();
            var target = returnTo || (base + "/");
            acceptAndProceed(target);
          });
          // inline fallback if JS listeners are blocked
          acceptBtn.setAttribute("onclick", "try{localStorage.setItem('reedDisclaimerAccepted','true');}catch(e){}try{document.cookie='reedDisclaimerAccepted=true; path=/; max-age=31536000';}catch(e){}try{window.name='reedDisclaimerAccepted';}catch(e){}document.documentElement.classList.add('disclaimer-clear');var o=document.getElementById('disclaimer-overlay');if(o){o.style.display='none';}window.location.href='" + "{{ site.baseurl }}/" + "';");
        }
      })();
    </script>

    {% include svg-icons.html %}
    {% include header.html %}

    <section class="content">
      {{ content }}
    </section>

    {% include footer.html %}

    <!-- Theme core JS (menu toggle, search overlay, preload images, etc.) -->
    <script src="{{ site.baseurl }}/assets/js/scripts.min.js"></script>

    <!-- Exploding head nav behavior -->
    <script src="{{ site.baseurl }}/assets/js/exploding-nav.js"></script>

    <!-- Netlify Identity (login redirect for /admin) -->
    <script>
      if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", function(user) {
          if (!user) {
            window.netlifyIdentity.on("login", function() {
              document.location.href = "/admin/";
            });
          }
        });
      }
    </script>
  </body>
</html>
